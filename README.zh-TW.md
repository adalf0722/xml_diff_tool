# XML Diff Tool

[English](README.en.md) | **繁體中文** | [简体中文](README.zh-CN.md)

一個純前端的 XML 差異比較工具，可視覺化呈現兩個 XML 文件之間的差異。

## 功能特色

- 🔍 **三種視圖模式**
  - **並排對比** - 左右對照顯示差異，支持同步滾動
  - **內聯對比** - 統一顯示，類似 Git Diff（Unified Diff 格式）
  - **樹狀檢視** - 以樹狀結構展示 XML 節點差異

- 🎨 **多主題支持**
  - Default - 預設暗色主題
  - Linear - 極簡專注風格
  - GitHub - VS Code / GitHub 風格
  - Supabase - 專業後台儀表板風格

- 🌐 **多語言支持**
  - English
  - 繁體中文
  - 简体中文

- 🛠️ **實用功能**
  - 差異類型篩選（新增/刪除/修改）
  - 篩選器自動重置（切換視圖時）
  - 手動重置按鈕（快速恢復預設篩選）
  - 差異快速跳轉導航（上/下一個差異）
  - 雙側同步高亮（並排對比和樹狀檢視）
  - 下載 Diff 報告（HTML/Text 格式）
  - 拖放上傳 XML 文件
  - XML 格式化美化

## 差異類型說明

### 並排對比 & 樹狀檢視

| 類型 | 顏色 | 說明 |
|------|------|------|
| 新增 | 🟢 綠色 | 只存在於新 XML 中的節點/行 |
| 刪除 | 🔴 紅色 | 只存在於原始 XML 中的節點/行 |
| 修改 | 🟡 黃色 | 兩邊都存在但內容不同 |
| 未變 | 無高亮 | 完全相同的內容 |

### 內聯對比（Unified Diff 格式）

內聯視圖採用業界標準的 Unified Diff 格式，與 Git、GitHub 等工具一致：

| 類型 | 顯示 | 說明 |
|------|------|------|
| 新增 | `+` 綠色行 | 新增的行 |
| 刪除 | `-` 紅色行 | 刪除的行 |
| 上下文 | 無符號 | 未變化的上下文行 |

> **注意**：
> - 在內聯視圖中，**「修改」篩選器會被禁用**，因為 Unified Diff 格式只有「新增」和「刪除」的概念
> - 內聯視圖的統計是**行級別**（顯示為「差異摘要: (行)」），其他視圖為**節點級別**
> - 導航計數器會根據視圖類型動態調整（行級 vs 節點級）

## 差異導航

### 導航按鈕
- **上一個差異** - 跳轉到前一個差異位置
- **下一個差異** - 跳轉到後一個差異位置
- 導航時會自動滾動並閃爍高亮目標位置
- 並排對比和樹狀檢視會同時高亮左右兩側

### 導航計數
不同視圖有不同的差異計數方式：
- **並排對比** - 基於行級差異，修改計為 1 個差異
- **內聯對比** - 基於行級差異，每個 +/- 行計為 1 個差異
- **樹狀檢視** - 基於節點級差異

## 篩選器

### 篩選行為
- 點擊篩選徽章（新增/刪除/修改）可切換該類型的顯示
- 切換視圖時，篩選器會**自動重置**為預設狀態（全部選中）
- 當篩選器非預設狀態時，會顯示「重置」按鈕

### 「未變」統計
- 「未變」只作為統計顯示，不是可點擊的篩選器
- 因為未變的內容本來就沒有高亮，無需篩選

## 技術棧

- React 18 + TypeScript
- Vite
- Tailwind CSS v4
- Lucide React Icons

## 開發

```bash
# 安裝依賴
npm install

# 啟動開發伺服器
npm run dev

# 構建生產版本
npm run build
```

## 隱私

所有 XML 處理都在瀏覽器本地完成，不會上傳任何數據到伺服器。

## License

MIT
