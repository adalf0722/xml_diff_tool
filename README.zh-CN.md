# XML Diff Tool

[English](README.en.md) | [繁體中文](README.md) | **简体中文**

一个纯前端的 XML 差异比较工具，可视觉化呈现两个 XML 文件之间的差异。

## 功能特色

- 🔍 **三种视图模式**
  - **并排对比** - 左右对照显示差异，支持同步滚动
  - **内联对比** - 统一显示，类似 Git Diff（Unified Diff 格式）
  - **树状视图** - 以树状结构展示 XML 节点差异

- 🎨 **多主题支持**
  - Default - 默认暗色主题
  - Linear - 极简专注风格
  - GitHub - VS Code / GitHub 风格
  - Supabase - 专业后台仪表板风格

- 🌐 **多语言支持**
  - English
  - 繁體中文
  - 简体中文

- 🛠️ **实用功能**
  - 差异类型筛选（新增/删除/修改）
  - 筛选器自动重置（切换视图时）
  - 手动重置按钮（快速恢复默认筛选）
  - 差异快速跳转导航（上/下一个差异）
  - 双侧同步高亮（并排对比和树状视图）
  - 下载 Diff 报告（HTML/Text 格式）
  - 拖放上传 XML 文件
  - XML 格式化美化

## 差异类型说明

### 并排对比 & 树状视图

| 类型 | 颜色 | 说明 |
|------|------|------|
| 新增 | 🟢 绿色 | 只存在于新 XML 中的节点/行 |
| 删除 | 🔴 红色 | 只存在于原始 XML 中的节点/行 |
| 修改 | 🟡 黄色 | 两边都存在但内容不同 |
| 未变 | 无高亮 | 完全相同的内容 |

### 内联对比（Unified Diff 格式）

内联视图采用业界标准的 Unified Diff 格式，与 Git、GitHub 等工具一致：

| 类型 | 显示 | 说明 |
|------|------|------|
| 新增 | `+` 绿色行 | 新增的行 |
| 删除 | `-` 红色行 | 删除的行 |
| 上下文 | 无符号 | 未变化的上下文行 |

> **注意**：
> - 在内联视图中，**「修改」筛选器会被禁用**，因为 Unified Diff 格式只有「新增」和「删除」的概念
> - 内联视图的统计是**行级别**（显示为「差异摘要: (行)」），其他视图为**节点级别**
> - 导航计数器会根据视图类型动态调整（行级 vs 节点级）

## 差异导航

### 导航按钮
- **上一个差异** - 跳转到前一个差异位置
- **下一个差异** - 跳转到后一个差异位置
- 导航时会自动滚动并闪烁高亮目标位置
- 并排对比和树状视图会同时高亮左右两侧

### 导航计数
不同视图有不同的差异计数方式：
- **并排对比** - 基于行级差异，修改计为 1 个差异
- **内联对比** - 基于行级差异，每个 +/- 行计为 1 个差异
- **树状视图** - 基于节点级差异

## 筛选器

### 筛选行为
- 点击筛选徽章（新增/删除/修改）可切换该类型的显示
- 切换视图时，筛选器会**自动重置**为默认状态（全部选中）
- 当筛选器非默认状态时，会显示「重置」按钮

### 「未变」统计
- 「未变」只作为统计显示，不是可点击的筛选器
- 因为未变的内容本来就没有高亮，无需筛选

## 技术栈

- React 18 + TypeScript
- Vite
- Tailwind CSS v4
- Lucide React Icons

## 开发

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build
```

## 隐私

所有 XML 处理都在浏览器本地完成，不会上传任何数据到服务器。

## License

MIT

